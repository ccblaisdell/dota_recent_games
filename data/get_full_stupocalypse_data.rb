require 'net/http'
match_ids = [4097603244, 4097572814, 4097549211, 4097517733, 4097494673, 4097465097, 4097448272, 4097392662, 4097381883, 4097351561, 4097330671, 4097310797, 4097285513, 4097264629, 4097214985, 4097170990, 4097118330, 4097081299, 4097050302, 4096967196, 4096918111, 4096864079, 4096770040, 4095702288, 4095662913, 4095628669, 4095597215, 4095544666, 4095510583, 4095479849, 4095426342, 4095374040, 4095347716, 4095325759, 4095180694, 4095132914, 4095081454, 4095040019, 4095003674, 4094888551, 4094828521, 4094760984, 4093669543, 4093629175, 4093587953, 4093553212, 4093517652, 4093485326, 4093204473, 4093173043, 4093136705, 4093102279, 4093068333, 4093024048, 4092979025]

def get(path)
  uri = URI path
  Net::HTTP.get uri
end

def url(path)
  "https://api.opendota.com/api/#{path}"
end

match_ids.each do |match_id|
  puts "Getting data for match #{match_id}"
  body = get(url("matches/#{match_id}/matches"))
  File.open("data/2018/fullMatches/#{match_id}.json", "w") do |line|
    line.puts body
  end
end
